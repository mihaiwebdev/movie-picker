@if ($selectedShow()) {
  <div class="found-movie-page">
    <img
      id="poster-image"
      [src]="imgBaseUrl + $selectedShow()?.backdrop_path"
      alt="poster"
      (load)="onImageLoad()"
      [class.loaded]="!$isImgLoading()"
    />

    <div class="gradient-overlay">
      <div class="action-buttons">
        <button pRipple class="back-btn" (click)="goBack()">
          <i class="bi bi-arrow-left-short"></i>
        </button>
        @if ($isLoginVisibile()) {
          <button
            routerLink="/app/login"
            [queryParams]="{
              watchlist: $selectedShow()?.name || $selectedShow()?.title,
              movie: $selectedShow()?.title ? true : ''
            }"
            pRipple
            class="login-btn"
          >
            Login
          </button>
        } @else {
          @if ($isWatchlistLoading()) {
            <div>
              <span class="loader bookmark-loader"></span>
            </div>
          } @else {
            @if ($isInWatchlist()) {
              <button
                pRipple
                class="bookmark-btn"
                (click)="removeFromBookmarks(bookmarksTypeEnum.watchlist)"
              >
                <i class="bi bi-bookmark-check-fill"></i>
              </button>
            } @else {
              <button
                pRipple
                class="bookmark-btn"
                (click)="addShowToBookmarks(bookmarksTypeEnum.watchlist)"
              >
                <i class="bi bi-bookmark"></i>
              </button>
            }
          }
        }
      </div>

      <div class="show-poster">
        <img
          [src]="imgBaseUrl + $selectedShow()?.poster_path"
          alt="show poster image"
        />
      </div>

      <div class="show-overview">
        <div class="show-overview-left">
          <small class="movie-type-chip">{{
            $selectedShow()?.title ? "Movie" : "TV Series"
          }}</small>
          <h1>
            {{ $selectedShow()?.title || $selectedShow()?.name }}
          </h1>

          <div class="display-genres">
            @for (genre of $showGenres(); track genre.id) {
              <div class="genre-card">
                <img
                  [src]="'../../../assets/icons/' + genre.icon_path"
                  alt="genre image"
                />
                <span>{{ genre.name }}</span>
              </div>
            }
          </div>
        </div>

        <div class="show-overview-right">
          <p class="release-date">
            {{ getReleaseDate() }}
          </p>

          <div class="show-rating">
            <p class="rating">TMDb rating</p>

            <p class="rating">
              <span class="span-rating">{{
                $selectedShow()?.vote_average?.toFixed(1)
              }}</span
              >/10
              <span class="span-vote-count"
                ><i class="bi bi-people"></i>
                {{ $selectedShow()?.vote_count }}</span
              >
            </p>
          </div>

          @if (!$isLoginVisibile()) {
            <div class="bookmarks-buttons">
              @if ($isWatchedLoading()) {
                <span class="loader"></span>
              } @else {
                @if ($isWatched()) {
                  <button
                    pRipple
                    class="already-watched"
                    (click)="removeFromBookmarks(bookmarksTypeEnum.watched)"
                  >
                    <i class="pi pi-eye-slash"></i>
                  </button>
                } @else {
                  <button
                    pRipple
                    class="watched-it"
                    (click)="addShowToBookmarks(bookmarksTypeEnum.watched)"
                  >
                    <i class="pi pi-eye"></i>
                  </button>
                }
              }
              @if ($isHiddenLoading()) {
                <span class="loader"></span>
              } @else {
                @if ($isHidden()) {
                  <button
                    pRipple
                    (click)="removeFromBookmarks(bookmarksTypeEnum.hidden)"
                    class="thumbs-down"
                  >
                    <i class="pi pi-thumbs-down-fill"></i>
                  </button>
                } @else {
                  <button
                    pRipple
                    class="thumbs-down"
                    (click)="addShowToBookmarks(bookmarksTypeEnum.hidden)"
                  >
                    <i class="pi pi-thumbs-down"></i>
                  </button>
                }
              }
            </div>
          } @else {
            <span
              pRipple
              routerLink="/app/login"
              [queryParams]="{
                watched: $selectedShow()?.title || $selectedShow()?.name,
                movie: $selectedShow()?.title ? true : ''
              }"
              class="login-btn"
              >Login to unlock</span
            >
          }
        </div>
      </div>

      <div class="show-description-box">
        <p
          class="show-description"
          appReadMore
          [maxLength]="250"
          [text]="$selectedShow()?.overview || ''"
        >
          {{ $selectedShow()?.overview }}
        </p>
      </div>

      @if ($showsResults()) {
        <div class="choose-btn">
          @if ($isPrevBtn()) {
            <button (click)="nextShow(true, false)" pRipple class="previous">
              <i class="bi bi-arrow-left-circle"></i> Prev
            </button>
          }

          @if ($isNextBtn()) {
            <button (click)="nextShow(false, true)" pRipple class="next">
              Next <i class="bi bi-arrow-right-circle"></i>
            </button>
          }
        </div>
      }
    </div>
  </div>
}
